<!DOCTYPE html>
<html lang="eS">
<head>
    <meta charset="UTF-8">
    <title>Proyecto 1º ASIR</title>
    <link rel="stylesheet" href="css/css.css">
</head>
<body>

<header id="inicio">
    <div id="portada">
        <div id="titulo">
            <div id="titulo2"><h1>Instalación Completa de Servidor Multiservicio</h1></div>
        </div>
        <div id="salesianos"><img src="img/logo400.png" alt="logo de los salesianos" width="150px" height="100px"></div>
    </div>
</header>

<main>
    <div id="todo">
        <div id="texto">
            <div class="ejercicios">
                <h1 id="e1">1.- INSTALACIÓN Y PREPARACIÓN DE MÁQUINA RASPBERRY PI CON RASPBIAN</h1>
                <p>Lo primero que hemos hecho ha sido conectar al router Asus un host y la Raspberry a través de la
                    interfaz gráfica del router. Hemos buscado los clientes conectados y así hemos averiguado la IP de
                    la Raspberry.</p>
                <figure>
                    <img src="img/memoria/interfac%20grafica%20router%20asus.PNG"
                     alt="interfaz grafica del router asus">
                    <figcaption>Img1.- Interfaz grafica del router asus</figcaption>
                </figure>
                <p>A través de un terminal, hemos conectado con la Raspberry a través de SSH con los
                    datopss por defecto que son:</p>
                <pre>                    Usuario: pi
                    Contraseña: raspberry
                    <code>“ssh pi@192.168.1.197”</code>
                </pre>
                <figure>
                    <img src="img/memoria/terminal%20conectando%20a%20raspberry.PNG" alt="conexion a traves del cmd">
                    <figcaption>Img2.- Conexion a traves del cmd</figcaption>
                </figure>
                <p>Ahora hemos accecido al fichero de configuración de las interfaces de las Raspberry
                    (/etc/network/interfaces) y la hemos configurado de forma estática</p>
                <figure>
                    <img src="img/memoria/configuracion%20ip.PNG" alt="configuracion de la ip estatica">
                    <figcaption>Img3.- Configuracion de la ip estatica</figcaption>
                </figure>
                <p>Hemos desconectado y vuelto a conectar la raspberry para actualizar la interfaz.
                    Una vez actualizada, hemos conectado la Raspberry directamente a la red del colegio.</p>
                <figure>
                    <img src="img/memoria/configuracion%20host.PNG" alt="configuracion del host">
                    <figcaption>Img4.- Configuracion del host</figcaption><br>
                </figure>
                <figure>
                    <img src="img/memoria/nueva%20conexion%20a%20la%20raspberry.PNG"
                         alt="nueva conexion a la raspberry">
                    <figcaption>Img5.- Nueva conexion a la raspberry</figcaption>
                </figure>
                <p>Ahora vamos a cambiar la contraseña de acceso a la raspberry para evitar que otras personas
                    puedan conectarse. Con el comando sudo raspi-config accedemos al software de configuración
                    de herramientas de la Raspberry.</p>
                <figure>
                    <img src="img/memoria/cambio%20contraseña.PNG" alt="cambio de contraseña">
                    <figcaption>Img6.- Cambio de contraseña</figcaption>
                </figure>
                <p>Elegimos la primera opción y ya podremos cambiar la contraseña</p>
                <figure>
                    <img src="img/memoria/nueva%20contraseña.PNG" alt="nueva contraseña">
                    <figcaption>Img7.- Nueva contraseña</figcaption>
                </figure>
                <p>A continuación, vamos a crear 2 nuevos usuarios, con el comando <code>“adduser”</code>.</p>
                <figure>
                    <img src="img/memoria/primer%20usuario%20david.PNG" alt="creacion del primer usuario">
                    <figcaption>Img8.- Creacion del primer usuario</figcaption><br>
                </figure>
                <figure>
                    <img src="img/memoria/segundo%20usuario%20jaime.PNG" alt="creacion del segundo usuario">
                    <figcaption>Img9.- Creacion del segundo usuario</figcaption>
                </figure>
                <p>Una vez creados, hemos añadido el usuario “david” al grupo de administradores con el comando
                    <code>“user mod -g adm david”</code> el grupo adm es el numero 4</p>
                <figure>
                    <img src="img/memoria/david%20admin.PNG" alt="metemos a david como administrador">
                    <figcaption>Img10.- Metemos a david como administrador</figcaption><br>
                </figure>
                <figure>
                    <img src="img/memoria/comprobacion%20david%20admin.PNG"
                         alt="comprobamos que esta como administrador">
                    <figcaption>Img11.- Comprobamos que esta como administrador</figcaption><br>
                </figure>
                <p>Añadimos al usuario David en el /etc/group</p>
                <figure>
                    <img src="img/memoria/añadimos%20a%20david%20en%20el%20etc-group.PNG"
                         alt="añadimos a david al grupo 4">
                    <figcaption>Img12.- Añadimos a david al grupo 4</figcaption><br>
                </figure>

                <h1 id="e2">2.- INSTALACIÓN DEL SERVIDOR APACHE</h1>
                <p>Primero actualizaremos la lista de paquetes disponibles y sus versiones con el comando:</p>
                <code>sudo apt-get update </code>
                <p>Ahora, vamos a instalar el servidor web Apache. Lo haremos con el comando:</p>
                <code>sudo apt-get install apache2 </code><br>
                <figure>
                    <img src="img/memoria/instalar%20apache.PNG" alt="instalacion del servidor apache2">
                    <figcaption>Img13.- Instalacion del servidor apache2</figcaption><br>
                </figure>
                <p>Una vez instalado, introducimos la IP de la Raspberry 192.168.41.204 en el navegador y obtenemos
                    la página por defecto del servidor web Apache2.</p>
                <figure>
                    <img src="img/memoria/apache%20default.PNG" alt="pagina de apache por defecto">
                    <figcaption>Img14.- Pagina de apache por defecto</figcaption><br>
                </figure>
                <p>Esta página se encuentra en /var/www/html/index.html</p>
                <p>Ahora vamos a hacer que funcione PHP.</p>
                <p>Instalamos los paquetes de  PHP 7.0</p>
                <figure>
                    <img src="img/memoria/instalar%20php.PNG" alt="instalación del php">
                    <figcaption>Img15.- Instalación del php</figcaption><br>
                </figure>
                <p>Con el comando <code>“sudo nano /var/www/html/info.php”</code> vamos a acceder a la configuración
                    de la página web en PHP.</p>
                <figure>
                    <img src="img/memoria/comando%20configuracion%20pagina%20php.PNG"
                         alt="configuracion de la pagina php">
                    <figcaption>Img16.- Configuracion de la pagina php</figcaption><br>
                </figure>
                <p>Una vez dentro del fichero, introducimos un código sencillo para comprobar que en la página
                    funciona correctamente PHP. La página mostrará los parámetros de PHP.</p>
                <figure>
                    <img src="img/memoria/codigo%20sencillo%20php.PNG" alt="codigo">
                    <figcaption>Img17.- Codigo php</figcaption><br>
                </figure>

                <h1 id="e3">3.- CREACIÓN DE LA PÁGINA WEB-MEMORIA DEL PROYECTO</h1>
                <p>Lo primero que tenemos que hacer es crear un repositorio nuevo con el nombre que queramos</p>
                <p>Enlace a nuestro repositorio: <a href="https://github.com/davidcalvop/ProyectoD-J">
                    ProyectoD-J</a></p>
                <figure>
                    <img src="img/memoria/nuevo%20repositorio.PNG" alt="creacion de nuevo repositorio">
                    <figcaption>Img18.- Creacion de nuevo repositorio</figcaption><br>
                </figure>
                <figure>
                    <img src="img/memoria/creacion%20de%20repositorio.PNG" alt="creacion del repositorio">
                    <figcaption>Img19.- Creacion del repositorio</figcaption>
                </figure>
                <p>Necesitamos que el otro integrante del grupo tambien tenga acceso a nuestro repositorio y pueda
                hacer commit y push</p>
                <figure>
                    <img src="img/memoria/añadir%20colaborador.PNG" alt="añadimos a nuestro colaboradores">
                    <figcaption>Img20.- Añadimos a nuestro colaboradores</figcaption>
                </figure>
                <p>A el le llegara una invitacion y una vez aceptada se le metera dentro de nuestro repositorio y 
                ya tendra permisos</p>
                <figure>
                    <img src="img/memoria/acceso%20invitacion%20jaime%20git%20hub.png"
                         alt="comprobar acceso al repositorio">
                    <figcaption>Img21.- Comprobar acceso al repositorio</figcaption>
                </figure>
                <p>Ahora creamos una carpeta nueva donde vamos a trabajar, la inicializamos y la conectamos con el
                repositorio para poder hacer los commit y subir los archivos editados, para ello usamos los
                comandos <code>"git init" y "git remote add origin ejemplorepositorio"</code></p>
                <figure>
                    <img src="img/memoria/carpeta%20proyecto.PNG" alt="Carpeta nueva para el proyecto">
                    <figcaption>Img22.- Carpeta nueva para el proyecto</figcaption>
                </figure>
                <p>A partir de aqui ya podemos abrir el WebStorm y empezar a crear nuestra pagina web, al acabar
                podemos subir el trabajo realizado a traves de los comandos <code>"git add *"</code> que añade
                los archivos nuevos creados; <code>"git commit -m 'nombre' "</code> se guarda con el nombre indicado
                y por ultimo <code>"git push -u origin master"</code> para subir los archivos al repositorio</p>
                <p>Si todo ha ido correctamente tendremos archivos en nuestro repositorio</p>
                <figure>
                    <img src="img/memoria/git%20push.PNG" alt="comprobacion de git push">
                    <figcaption>Img23.- Comprobacion de git push</figcaption>
                </figure>
                <p>Desde el ordenador de nuestro compañero podemos hacer un <code>"git clone 'repositorio' "</code>
                y se nos descargaran todos los archivos para que el pueda trabajar con la version mas reciente</p>
                <h3>Publicacion en GitHub Pages</h3>
                <p>Nos vamos a nuestro repositorio, le damos a Settings/Ajustes</p>
                <figure>
                    <img src="img/memoria/gitpages1.PNG" alt="donde colocarse">
                    <figcaption>Img24.- Donde colocarse</figcaption>
                </figure>
                <p>Ahora bajamos hasta donde veamos que pone GitHub Pages, abrimos el menu desplegable donde por
                defecto pone "none" y lo cambiamos a "master branch"</p>
                <figure>
                    <img src="img/memoria/gitpages2.PNG" alt="activar github pages">
                    <figcaption>Img25.- Activar GitHub Pages</figcaption>
                </figure>
                <p>Ahora se recarga solo y nos saldra directamente el enlace, ya tenemos publicada nuestra página</p>
                <p>Enlace a GitHub Pages: <a href="https://davidcalvop.github.io/ProyectoD-J/">
                    https://davidcalvop.github.io/ProyectoD-J/</a></p>
                <figure>
                    <img src="img/memoria/gitpages3.PNG" alt="enlace de github pages">
                    <figcaption>Img26.- Enlace de GitHub Pages</figcaption>
                </figure>
                <h3>Transferir la pagina web al servidor apache de la Raspberry</h3>
                <p>Lo vamos a hacer a traves de git, hemos instalado git a traves del comando <code>"apt-get install
                git"</code> luego nos ubicamos en la carpeta correspondiente y hacemos un <code>"git clone
                 'nuestro repositorio' "</code></p>
                <figure>
                    <img src="img/memoria/pagina%20en%20apache.PNG" alt="Tranferir la pagina al apache2">
                    <figcaption>Img27.- Tranferir la pagina al apache2</figcaption>
                </figure>

                <h1 id="e4">4.- INSTALACIÓN DEL SERVIDOR MYSQL</h1>
                <p>A continuación, vamos a instalar MYSQL Server con el comando
                    <code>“sudo apt-get install mysql-server”</code></p>
                <figure>
                    <img src="img/memoria/instalacion%20mysql.PNG" alt="instalacion del servidor MYSQL">
                    <figcaption>Img28.- Instalacion del servidor MYSQL</figcaption>
                </figure>
                <p>Accedemos a la base de datos con el comando <code>“mysql”</code> y comprobamos las tablas
                    existentes con el comando <code>“show databases;”</code> y observamos que no existe ninguna
                    base de datos por defecto.</p>
                <figure>
                    <img src="img/memoria/comprobar%20tablas.PNG" alt="comprobacion de tablas por defecto">
                    <figcaption>Img29.- Comprobacion de tablas por defecto</figcaption>
                </figure>
                <p>Instalamos el cliente de MYSQL con el comando <code>"apt-get install mysql-client"</code></p>
                <figure>
                    <img src="img/memoria/instalar%20cliente%20mysql.PNG" alt="instalar cliente mysql">
                    <figcaption>Img30.- Instalar cliente mysql</figcaption>
                </figure>
                <p>Conectamos php con mysql instalando el paquete php-mysql</p>
                <figure>
                    <img src="img/memoria/conectar%20php%20con%20mysql.PNG" alt="conectamos php con mysql">
                    <figcaption>Img31.- Conectamos php con mysql</figcaption>
                </figure>
                <p>Ahora instalamos el PHPMYADMIN con el comando <code>"apt-get install phpmyadmin"</code>
                que es un gestor gráfico de base de datos</p>
                <figure>
                    <img src="img/memoria/instalacion%20phpmyadmin.PNG" alt="instalamos el gestor grafico">
                    <figcaption>Img32.- Instalamos el gestor grafico</figcaption>
                </figure>
                <p>Seleccionamos que el servidor que queremos usar sea el apache2, para ello usamos el espacio</p>
                <figure>
                    <img src="img/memoria/instalar%20apache%20en%20phpmyadmin.PNG" alt="Instalamos apache en phpadmin">
                    <figcaption>Img33.- Instalamos apache en phpadmin</figcaption>
                </figure>
                <p>Accedemos a la base de datos como "root" seleccionamos la base de datos MYSQL y cambiamos la
                    contraseña del usuario "root" para que no se puede acceder a la base de datos con los datos
                    por defecto</p>
                <figure>
                    <img src="img/memoria/cambio%20de%20contraseña%20mysql.PNG" alt="cambio de contraseña del root">
                    <figcaption>Img34.- Cambio de contraseña del root</figcaption>
                </figure>
                <p>Comprobamos que podemos acceder al phpmyadmin con los nuevos datos</p>
                <figure>
                    <img src="img/memoria/phpmyadmin.PNG" alt="conexion a traves del phpmyadmin">
                    <figcaption>Img35.- Conexion a traves del phpmyadmin</figcaption><br>
                </figure>
                <figure>
                    <img src="img/memoria/acceso%20correcto%20phpmyadmin.PNG" alt="accedemos correctamente al phpmyadmin">
                    <figcaption>Img36.- Accedemos correctamente al phpmyadmin</figcaption><br>
                </figure>
                <h3>Creacion de base de datos</h3>
                <p><a href="E_R%20Proyecto.json">Diseño Entidad-Relacion</a></p>
                <figure>
                    <img src="img/memoria/entidad-relacion.PNG" alt="diseño entidad relacion">
                    <figcaption>Img37.- Diseño entidad relacion</figcaption><br>
                </figure>
                <p>Diseño Relacional</p>
                <figure>
                    <img src="img/memoria/modelo-relacional.PNG" alt="diseño modelo relacional">
                    <figcaption>Img38.- Diseño modelo relacional</figcaption><br>
                </figure>
                <p>Creamos la base de datos con nombre "Clases Asir"</p>
                <figure>
                    <img src="img/memoria/creacion%20base%20de%20datos.PNG" alt="Creacion de la base de datos">
                    <figcaption>Img39.- Creacion de la base de datos</figcaption>
                </figure>
                <p>Creamos las tablas de la base de datos</p>
                <figure>
                    <img src="img/memoria/creacion%20de%20tablas.PNG" alt="Creacion de las tablas de la base de datos">
                    <figcaption>Img40.- Creacion de las tablas de la base de datos</figcaption>
                </figure>
                <p>Accedemos a la base de datos como localhost y creamos un usuario que solo tenga
                    permisos para la base de datos Clases_Asir</p>
                <figure>
                    <img src="img/memoria/crear%20usuario%20Clases_Asir.PNG" alt="creamos usuario y le damos permisos">
                    <figcaption>Img41.- Creamos usuario y le damos permisos</figcaption>
                </figure>


                <h1 id="e5">5.- ESTIMACIÓN DE COSTES</h1>

                <h3>Servidor Real <a href="https://www.ovh.es/servidores_dedicados/advance/adv-1/">(enlace)</a></h3>
                <figure>
                    <img src="img/memoria/servidor-real.png" alt="servidor real">
                    <figcaption>Img42.- Presupuesto servidor real</figcaption><br>
                </figure>
                <figure>
                    <img src="img/memoria/usos-servidor-real.png" alt="usos del servidor real">
                    <figcaption>Img43.- Usos del servidor real</figcaption><br>
                </figure>
                <p>Dentro de los servidores reales, este es un servidor idóneo, ya que nos ofrece las prestaciones
                    suficientes y compatibles con nuestra base de datos. Este servidor real se encuentra disponible
                    en 3 ciudades diferentes en Francia.</p>
                <p>Ventajas:</p>
                <ul>
                    <li>Totalmente flexible a las necesidades del cliente</li>
                    <li>Gran espacio de disco duro</li>
                    <li>Dirección IP dedicada</li>
                    <li>Acceso completo y personal para administración</li>
                </ul>
                <p>Desventajas:</p>
                <ul>
                    <li>Es el más costoso de todos los servicios en cuanto a la relación entre su precio y lo que
                        ofrece.</li>
                    <li>Requiere altos niveles de conocimiento técnico.</li>
                </ul>
                <br>

                <h3>Servidor Virtual <a href="https://www.ovh.es/vps/vps-cloud.xml">(enlace)</a></h3>
                <figure>
                    <img src="img/memoria/servidor-virtual.png" alt="servidor virtual">
                    <figcaption>Img44.- Presupuesto servidor virtual</figcaption>
                </figure>
                <p>Ventajas:</p>
                <ul>
                    <li>Los servidores virtuales permiten una transición progresiva desde el alojamiento web hacia la
                        gestión autónoma de un servidor virtual.</li>
                    <li>A medida que crezca nuestra aplicación, podrá evolucionar dentro de una amplia gama de
                        servicios ofrecidos por la empresa OVH.</li>
                    <li>Ofrece el equilibrio ideal entre, por un lado, la libertad del dedicado y, por otro,
                        la flexibilidad para crecer y la tranquilidad que proporciona la virtualización.</li>
                    <li>El precio es, sin duda, uno de sus puntos fuertes.</li>
                </ul>
                <p>Desventajas:</p>
                <ul>
                    <li>Un servidor virtual no es un servidor físico, que se pueda “ver y tocar”, ahí radica la
                        diferencia económica con respecto al servidor real.</li>
                    <li>Limitación de uso de CPU y RAM.</li>
                    <li>Como clientes, tenemos que controlar el servidor sino es administrado.</li>
                </ul>
                <br>

                <h3>Servidor Hosting <a href="https://www.ovh.es/servidores_dedicados/hosting/1806host05.xml">
                    (enlace)</a></h3>
                <figure>
                    <img src="img/memoria/servidor-hosting.png" alt="servidor hosting">
                    <figcaption>Img45.- Presupuesto servidor hosting</figcaption>
                </figure>
                <p>El hosting de OVH es interesante para:</p>
                <ul>
                    <li>Dar servicios de hosting para clientes que son pequeñas empresas o negocios.</li>
                    <li>Albergar múltiples clientes en una misma máquina.</li>
                    <li>Disponer de diversos modelos de servidor a escoger.</li>
                    <li>Poder escoger el sistema operativo y panel de control que se desea.</li>
                    <li>Tener soporte de hardware en caso de averías.</li>
                </ul>

                <h3>Servidor Housing <a href="https://www.ovh.com/fr/housing/details.xml?id=1-3u">(enlace)</a></h3>
                <figure>
                    <img src="img/memoria/servidor-housing.png" alt="servidor housing">
                    <figcaption>Img46.- Presupuesto servidor housing</figcaption>
                </figure>
                <p>En el caso del housing habría que tener en cuenta que generará gastos adicionales,
                    y sus características son: </p>
                <ul>
                    <li>Máquinas propias de reserva para casos de avería.</li>
                    <li>Posibles máquinas propias con replicación de datos en otros centros de datos.</li>
                    <li>Contratación de servicio de reinicio hardware.</li>
                    <li>Contratación de DNS secundarios en diferente geolocalización.</li>
                    <li>Contratación de servicios de backup externos.</li>
                    <li>Contratación de servicios de monitoreo y aviso externos.</li>
                    <li>Gastos de desplazamiento al centro de datos para instalación, reparaciones,
                        sustituciones, ampliaciones...</li>
                </ul>
                <br>
            </div>
        </div>
        <br>
        <cite><strong>Autores: David Calvo Pérez y Jaime Santodomingo Fernández</strong></cite>
    </div>
</main>

    <a href="#inicio"><div id="retorno"><img src="img/arriba.png" alt="subir arriba" width="50" height="50"></div></a>

<nav>
    <div id="menu">
        <div id="img"><img src="img/menu.png" alt="3 rayas para el menu" height="40px" width="40px"></div>
        <div id="lista" class="lista">
            <ol>
                <h1>Menu</h1>
                <hr>
                <br>
                <li><a href="#e1">- INSTALACION Y PREPARACION DE MAQUINA RASPBERRY PI CON RASPBIAN</a></li>
                <br>
                <li><a href="#e2">- INSTALACION DEL SERVIDOR APACHE</a></li>
                <br>
                <li><a href="#e3">- CREACION DE LA PAGINA WEB-MEMORIA DEL PROYECTO</a></li>
                <br>
                <li><a href="#e4">- INSTALACION DEL SERVIDOR MYSQL</a></li>
                <br>
                <li><a href="#e5">- ESTIMACIÓN DE COSTES</a></li>
                <br>
            </ol>
        </div>

    </div>
</nav>


// Codigo JvaScript

<script src="jquery-3.3.1.min.js"></script>

<script>
    $(function () {
        $("#img").on("click",function () {
            $('#lista').toggleClass('clase');
        })
    })
</script>

</body>
</html>